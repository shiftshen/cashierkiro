(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"16f2":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",[0==this.type?e("fullswiper",{ref:"fullswiperref"}):this._e(),1==this.type?e("payorder",{ref:"payorder"}):this._e()],1)},r=[]},"1c8c":function(t,e,a){var n=a("78e6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=a("967d").default;r("8a09f9c2",n,!0,{sourceMap:!1,shadowMode:!1})},"23aa":function(t,e,a){"use strict";a.r(e);var n=a("f6cb"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},"2f11":function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("9b1b")),i=a("8f59"),s={data:function(){return{indicatorDots:!1,autoplay:!0,interval:2e3,duration:500,swiperList:[]}},computed:(0,r.default)({},(0,i.mapState)(["swiperConfig"])),methods:{}};e.default=s},"36c6":function(t,e,a){"use strict";var n=a("1c8c"),r=a.n(n);r.a},"387d":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.content[data-v-b4b7c96c]{display:flex;width:100%;height:100vh}.leftbox[data-v-b4b7c96c]{flex:1;display:flex;flex-direction:column;background-color:#f5f5f5}.rightbox[data-v-b4b7c96c]{flex:2;background-color:#fff}\r\n/* 顶部欢迎区样式 */.welcome[data-v-b4b7c96c]{padding:20px;text-align:center;font-weight:700;background-color:#fff;border-bottom:1px solid #eee}\r\n/* 中间菜单列表样式 */.menu-list[data-v-b4b7c96c]{padding:10px;background-color:#fff}\r\n/* 底部合计区样式 */.total[data-v-b4b7c96c]{padding:15px;background-color:#fff;text-align:right;font-weight:700;border-top:1px solid #eee}.list[data-v-b4b7c96c]{max-height:calc(100vh - 25.0625vh);overflow-y:auto}@media (min-width:1500px) and (max-width:3280px){.list[data-v-b4b7c96c]{max-height:calc(100vh - 250px);overflow-y:auto}}.container[data-v-b4b7c96c]{display:flex;flex-direction:column;align-items:center;background-color:#fff;\r\n  /* 背景色 */padding:%?20?%}.header[data-v-b4b7c96c]{margin-top:%?30?%}.title[data-v-b4b7c96c]{font-weight:700;color:#0056b3}.qr-section[data-v-b4b7c96c]{display:flex;flex-direction:column;align-items:center}.qr-image[data-v-b4b7c96c]{width:%?130?%;height:%?130?%}.sub-title[data-v-b4b7c96c]{color:#007aff;font-weight:700}.text-container[data-v-b4b7c96c]{display:flex;flex-direction:column;align-items:center;text-align:center}.instruction[data-v-b4b7c96c]{color:#333}.details[data-v-b4b7c96c]{color:#444}.ref-id[data-v-b4b7c96c]{color:#888}',""]),t.exports=e},"3cc1":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content f20"},[a("v-uni-view",{staticClass:"leftbox"},[a("v-uni-view",{staticClass:"welcome"},[t._v(t._s(t.$t("order-components.welcome")))]),a("v-uni-view",{staticClass:"menu-list f-g-1 p10"},[a("v-uni-view",{staticClass:"f-x-bt f18 wei6 mb10 l-h1 p-0-10"},[a("v-uni-text",{staticStyle:{width:"50%"}},[t._v(t._s(t.$t("order-components.product_information")))]),a("v-uni-view",{staticClass:"f-1 f-bt"},[a("v-uni-text",[t._v(t._s(t.$t("order-components.quantity")))]),a("v-uni-text",[t._v(t._s(t.$t("order-components.subtotal")))])],1)],1),a("v-uni-view",{staticClass:"f-y-bt"},[a("v-uni-view",{staticClass:"f-1 list"},t._l(t.carList.generalGoods,(function(e,n){return a("v-uni-view",{key:n,staticClass:"bd2 p10 f18"},[a("v-uni-view",{staticClass:"f-x-bt"},[a("v-uni-view",{staticClass:"f-1"},[a("v-uni-view",{staticClass:"f-bt"},[a("v-uni-view",{staticClass:"f-1 overflowlnr f18"},[a("v-uni-view",{staticClass:"dfa"},[a("v-uni-view",{staticClass:"w50 flex l-h1"},[e.pack?a("u-tag",{staticClass:"mr5",staticStyle:{display:"inline-block","font-size":"0.8784vw"},attrs:{text:"",size:"small",bgColor:"#1c9945",borderColor:"#1c9945"}}):t._e(),8==e.state?a("u-tag",{staticClass:"mr5",staticStyle:{display:"inline-block","font-size":"0.8784vw"},attrs:{text:e.discountLabel,size:"small",bgColor:"#3E77B9",borderColor:"#3E77B9"}}):t._e(),a("v-uni-view",{staticClass:"overflowlnr",staticStyle:{"max-width":"320px"}},[t._v(t._s(e.name||e.goods&&e.goods.name))])],1),a("v-uni-view",{staticClass:"f-1 f-bt"},[a("v-uni-text",{staticClass:"f18 c6"},[t._v("x"+t._s(e.num))]),a("v-uni-text",{staticClass:"c6"},[t._v("฿"+t._s(e.money))])],1)],1),a("v-uni-view",{staticClass:"flex f-w f14 c9"},[e.attrData&&e.attrData.spec?a("v-uni-view",[t._v("["+t._s(e.attrData.spec)+"]")]):t._e(),e.attrData&&e.attrData.attr?a("v-uni-view",[t._v("["+t._s(e.attrData.attr)+"]")]):t._e(),e.attrData&&e.attrData.matal?a("v-uni-view",[t._v(t._s(e.attrData.matal))]):t._e()],1),e.setMealData&&e.setMealData.length?a("v-uni-view",{staticClass:"flex f-w f14 c9"},t._l(e.setMealData,(function(e,n){return a("v-uni-view",{key:n},[t._v(t._s(e.name)+"*"+t._s(e.num)),e.attrData&&e.attrData.attr?a("v-uni-text",{staticClass:"ml10"},[t._v("["+t._s(e.attrData.attr)+"]")]):t._e(),e.attrData&&e.attrData.matal?a("v-uni-text",{staticClass:"ml10"},[t._v("["+t._s(e.attrData.matal)+"]")]):t._e()],1)})),1):t._e()],1)],1),e.notes?a("v-uni-view",{staticClass:"flex f-w f14 c9 mt5"},[t._v(t._s(t.$t("order-components.remark"))+"："+t._s(e.notes))]):t._e()],1)],1)],1)})),1)],1)],1),a("v-uni-view",{staticClass:"total f18"},[t._v(t._s(t.$t("order-components.total_amount"))+"：฿"+t._s(t.carList.money||0))])],1),a("v-uni-view",{staticClass:"rightbox"},[0==t.showtype?a("fullswiper",{ref:"fullswiper"}):a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-image",{staticStyle:{height:"100px"},attrs:{src:"/static/pp.png"}})],1),a("v-uni-view",{staticClass:"qr-section"},[a("v-uni-text",{staticClass:"sub-title mt20"},[t._v("PromptPay")]),a("v-uni-image",{staticClass:"qr-image mt20 mb20",attrs:{src:t.qrcode}})],1),a("v-uni-view",{staticClass:"text-container"},[a("v-uni-text",{staticClass:"instruction"},[t._v("Scan QR to transfer to account")])],1)],1)],1)],1)},r=[]},"5d3a":function(t,e,a){"use strict";a.r(e);var n=a("fb97"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},"78e6":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.fullscreen-swiper[data-v-c26917ce]{width:100%;height:100vh}.swiper[data-v-c26917ce]{width:100%;height:100%}.swiper-item[data-v-c26917ce]{width:100%;height:100%}.swiper-image[data-v-c26917ce]{width:100%;height:100%}',""]),t.exports=e},"81f8":function(t,e,a){var n=a("bdbb").default;a("d4b5"),a("5ef2"),a("aa9c");var r={default:this,call:function(t,e,a){var n="";if("function"==typeof e&&(a=e,e={}),e={data:void 0===e?null:e},"function"==typeof a){var r="dscb"+window.dscb++;window[r]=a,e._dscbstub=r}return e=JSON.stringify(e),window._dsbridge?n=_dsbridge.call(t,e):(window._dswk||-1!=navigator.userAgent.indexOf("_dsbridge"))&&(n=prompt("_dsbridge="+t,e)),JSON.parse(n||"{}").data},register:function(t,e,a){a=a?window._dsaf:window._dsf,window._dsInit||(window._dsInit=!0,setTimeout((function(){r.call("_dsb.dsinit")}),0)),"object"==n(e)?a._obs[t]=e:a[t]=e},registerAsyn:function(t,e){this.register(t,e,!0)},hasNativeMethod:function(t,e){return this.call("_dsb.hasNativeMethod",{name:t,type:e||"all"})},disableJavascriptDialogBlock:function(t){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==t})}};!function(){if(!window._dsf){var t,e={_dsf:{_obs:{}},_dsaf:{_obs:{}},dscb:0,dsBridge:r,close:function(){r.call("_dsb.closePage")},_handleMessageFromNative:function(t){var e=JSON.parse(t.data),a={id:t.callbackId,complete:!0},n=this._dsf[t.method],i=this._dsaf[t.method],s=function(t,n){a.data=t.apply(n,e),r.call("_dsb.returnValue",a)},o=function(t,n){e.push((function(t,e){a.data=t,a.complete=!1!==e,r.call("_dsb.returnValue",a)})),t.apply(n,e)};if(n)s(n,this._dsf);else if(i)o(i,this._dsaf);else if(n=t.method.split("."),!(2>n.length)){t=n.pop();n=n.join("."),i=this._dsf._obs,i=i[n]||{};var c=i[t];c&&"function"==typeof c?s(c,i):(i=this._dsaf._obs,i=i[n]||{},(c=i[t])&&"function"==typeof c&&o(c,i))}}};for(t in e)window[t]=e[t];r.register("_hasJavascriptMethod",(function(t,e){return e=t.split("."),2>e.length?!(!_dsf[e]&&!_dsaf[e]):(t=e.pop(),e=e.join("."),(e=_dsf._obs[e]||_dsaf._obs[e])&&!!e[t])}))}}(),t.exports=r},"9f3c":function(t,e,a){"use strict";var n=a("dd94"),r=a.n(n);r.a},ae01:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"fullscreen-swiper"},[e("v-uni-swiper",{staticClass:"swiper",attrs:{circular:!0,"indicator-dots":this.swiperConfig.indicatorDots,autoplay:this.swiperConfig.autoplay,interval:this.swiperConfig.interval,duration:this.swiperConfig.duration}},this._l(this.swiperConfig.swiperList,(function(t,a){return e("v-uni-swiper-item",{key:a},[e("v-uni-image",{staticClass:"swiper-image",attrs:{src:t.url,mode:"aspectFill"}})],1)})),1)],1)},r=[]},b680:function(t,e,a){"use strict";a.r(e);var n=a("3cc1"),r=a("23aa");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a("9f3c");var s=a("828b"),o=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"b4b7c96c",null,!1,n["a"],void 0);e["default"]=o.exports},d126:function(t,e,a){"use strict";a.r(e);var n=a("ae01"),r=a("e39f");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a("36c6");var s=a("828b"),o=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"c26917ce",null,!1,n["a"],void 0);e["default"]=o.exports},dd94:function(t,e,a){var n=a("387d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=a("967d").default;r("04d74c66",n,!0,{sourceMap:!1,shadowMode:!1})},e39f:function(t,e,a){"use strict";a.r(e);var n=a("2f11"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},f6cb:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("2634")),i=n(a("2fdc")),s=n(a("d126")),o={data:function(){return{info:"",carList:{},showtype:0,promptPayCode:"",qrcode:""}},components:{fullswiper:s.default},methods:{cashieradimage:function(t){var e=this;this.$nextTick((function(){e.$refs.fullswiper.cashieradimage(t)}))},checkOut:function(t,e,a,n){var s=this;return(0,i.default)((0,r.default)().mark((function i(){var o,c;return(0,r.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s.beg.request({url:"/channel/inStore/checkout",data:{diningType:t,storeId:n,tableId:e,userId:a,notes:"",check:"false"}});case 2:o=r.sent,c=o.data,s.carList=c||{},s.carList.pickAll=c&&c.packaging?[1]:[],c.promptPayCode?(s.showtype=1,s.promptPayCode=c.promptPayCode,s.qrcode=c.qrcode):(s.showtype=0,s.promptPayCode="",s.qrcode="");case 7:case"end":return r.stop()}}),i)})))()},promptQrCode:function(t,e,a,n){var s=this;return(0,i.default)((0,r.default)().mark((function i(){var o,c;return(0,r.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s.beg.request({url:"/channel/inStore/checkout",data:{diningType:t,storeId:n,tableId:e,userId:a,notes:"",check:"false",showprompt:"1"}});case 2:o=r.sent,c=o.data,s.carList=c||{},s.carList.pickAll=c&&c.packaging?[1]:[],c.promptPayCode?(s.showtype=1,s.promptPayCode=c.promptPayCode,s.qrcode=c.qrcode):(s.showtype=0,s.promptPayCode="",s.qrcode="");case 7:case"end":return r.stop()}}),i)})))()},tablePayorder:function(t,e){var a=this;return(0,i.default)((0,r.default)().mark((function n(){var i,s;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.beg.request({url:"/channel/inStore/order/".concat(t),data:{storeId:e,showprompt:1}});case 2:i=n.sent,s=i.data,a.carList=s||{},s.promptPayCode?(a.showtype=1,a.promptPayCode=s.promptPayCode,a.qrcode=s.qrcode):(a.showtype=0,a.promptPayCode="",a.qrcode="");case 6:case"end":return n.stop()}}),n)})))()}}};e.default=o},fb97:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("2634")),i=n(a("2fdc")),s=n(a("81f8")),o=n(a("d126")),c=n(a("b680")),d={data:function(){return{type:0,tip:{},storeId:0}},onLoad:function(t){t.type&&(this.type=t.type,console.log(this.type)),t.lang&&(this.$i18n.locale=t.lang,uni.setStorageSync("language",t.lang)),t.uniacid&&uni.setStorageSync("uniacid",t.uniacid),t.token&&uni.setStorageSync("token",t.token),t.storeId&&(this.storeId=t.storeId,uni.setStorageSync("storeId",t.storeId)),this.cashieradimage();var e=this;s.default.call("addEventListener",{},function(){var t=(0,i.default)((0,r.default)().mark((function t(a){var n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,n="string"===typeof a?JSON.parse(a):a,n&&(e.type=n.type),null!==n&&void 0!==n&&n.token&&uni.setStorageSync("token",n.token),null!==n&&void 0!==n&&n.uniacid&&uni.setStorageSync("uniacid",n.uniacid),null!==n&&void 0!==n&&n.storeId&&(e.storeId=n.storeId,uni.setStorageSync("storeId",n.storeId)),t.t0=null===n||void 0===n?void 0:n.eventtype,t.next="order"===t.t0?9:"payorder"===t.t0?13:"tablepayorder"===t.t0?17:"refreshadimage"===t.t0?21:23;break;case 9:if(!n){t.next=12;break}return t.next=12,e.checkOut(n);case 12:return t.abrupt("break",23);case 13:if(!n){t.next=16;break}return t.next=16,e.promptQrCode(n);case 16:return t.abrupt("break",23);case 17:if(!n){t.next=20;break}return t.next=20,e.tablePayorder(n);case 20:return t.abrupt("break",23);case 21:return n&&e.cashieradimage(),t.abrupt("break",23);case 23:t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](0),console.error("数据处理错误:",t.t1);case 28:case"end":return t.stop()}}),t,null,[[0,25]])})));return function(e){return t.apply(this,arguments)}}())},components:{fullswiper:o.default,payorder:c.default},methods:{cashieradimage:function(){this.$store.dispatch("fetchSwiperData",this.storeId)},checkOut:function(t){var e=this;this.$nextTick((0,i.default)((0,r.default)().mark((function a(){return(0,r.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$refs.payorder.checkOut(t.diningType,t.tableId,t.userId,t.storeId);case 1:case"end":return a.stop()}}),a)}))))},promptQrCode:function(t){var e=this;this.$nextTick((0,i.default)((0,r.default)().mark((function a(){return(0,r.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$refs.payorder.promptQrCode(t.diningType,t.tableId,t.userId,t.storeId);case 1:case"end":return a.stop()}}),a)}))))},tablePayorder:function(t){var e=this;this.$nextTick((0,i.default)((0,r.default)().mark((function a(){return(0,r.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$refs.payorder.tablePayorder(t.orderid,t.storeId);case 1:case"end":return a.stop()}}),a)}))))}}};e.default=d},fe01:function(t,e,a){"use strict";a.r(e);var n=a("16f2"),r=a("5d3a");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);var s=a("828b"),o=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"e4ae414a",null,!1,n["a"],void 0);e["default"]=o.exports}}]);