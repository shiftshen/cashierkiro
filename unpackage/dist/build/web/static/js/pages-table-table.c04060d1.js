(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-table-table"],{"22f1":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("3efd"),a("bd06"),a("dd2b"),a("c223");var s=i(a("2634")),n=i(a("2fdc")),r=i(a("4ac1")),o={components:{tool:r.default},data:function(){return{tab:0,kind:0,list:[],tabs:[],tabelList:[],dataList:[],areaId:"",title:this.$t("table.transfer_table"),state:"free",form:{},toTable:0,id:0,t:"turntable"}},onLoad:function(t){t&&t.id&&(this.id=t.id,this.t=t.t,this.init())},methods:{init:function(){"turntable"==this.t?(this.title=this.$t("table.transfer_table"),this.state="free",this.fetchData()):"parallel"==this.t&&(this.title=this.$t("table.merge_table"),this.state="settle",this.fetchData())},fetchData:function(){var t=this;return(0,n.default)((0,s.default)().mark((function e(){var a,i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.beg.request({url:t.api.tableArea,data:{pageSize:999}});case 2:a=e.sent,i=a.data.list,i.unshift({id:"",name:t.$t("table.all")}),t.tabs=i||[],i&&i.length&&(t.areaId=i[0].id,t.getTableList());case 7:case"end":return e.stop()}}),e)})))()},getTableList:function(){var t=this;return(0,n.default)((0,s.default)().mark((function e(){var a,i,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.beg.request({url:t.api.inTabel,data:{areaId:t.areaId,state:t.state,pageSize:999}});case 2:a=e.sent,i=a.data.list,t.tabelList=i||[],t.tabelList&&t.tabelList.length&&(n=t.tabelList.findIndex((function(e){return e.id==t.id})),n>=0&&t.tabelList.splice(n,1));case 6:case"end":return e.stop()}}),e)})))()},changeTab:function(t,e){this.tab=e,this.areaId=t.id,this.getTableList()},clickItem:function(t,e){this.form=t,this.toTable=t.id},changeKind:function(t,e){this.kind=e,this.state=t.state,this.getTableList()},cancle:function(){uni.navigateBack({delta:1})},confirm:function(){var t=this;return(0,n.default)((0,s.default)().mark((function e(){var a,i,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.beg.request({url:"".concat("parallel"==t.t?t.api.combineTable:t.api.changeTable,"/").concat(t.id),method:"POST",data:{storeId:t.form.storeId,toTable:t.toTable}});case 2:a=e.sent,i=a.code,n=a.msg,uni.showToast({title:n,icon:"none"}),i&&200==i&&(t.toTable=0,setTimeout((function(){uni.reLaunch({url:"/pages/home/index?current=1"})}),500));case 7:case"end":return e.stop()}}),e)})))()}}};e.default=o},2925:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={tool:a("4ac1").default,uButton:a("3b1c").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"f-y-bt w100v h100v o-h"},[a("v-uni-view",{staticClass:"top bf f-x-bt p15"},[a("v-uni-view",{staticClass:"f24 wei"},[t._v(t._s(t.title))]),a("tool")],1),a("v-uni-view",{staticClass:"right f-1 p10 l-h1",staticStyle:{background:"#eff0f4"}},[a("v-uni-view",{staticClass:"f-x-bt mb15"},[a("v-uni-view",{staticClass:"tabs bs6 f-bt"},t._l(t.tabs,(function(e,i){return a("v-uni-view",{key:i,staticClass:"tab tac f16",class:t.tab==i?"istab":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTab(e,i)}}},[t._v(t._s(e.name))])})),1)],1),a("v-uni-view",{staticClass:"tables"},t._l(t.tabelList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"table mr15 mb15 bf pt15 f-y-bt",class:1==e.state?"b23 cd":2==e.state?"bb3 cd":4==e.state?"bdb cd":3==e.state?"b2e cd":"bf c0",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.clickItem(e,i)}}},[a("v-uni-view",{staticClass:"f-bt"},[a("v-uni-view",{staticClass:"p-0-15 f18 mb15"},[t._v(t._s(e.name))]),1==e.scan?a("v-uni-view",{staticClass:"p-0-15 sm f14 mr10",style:{color:2==e.state?"#C24243":1==e.state?"#3E9949":3==e.state?"#2979ff":4==e.state?"#DC6523":""}},[t._v(t._s(t.$t("table.scan")))]):t._e()],1),1==e.state?a("v-uni-view",{staticClass:"p-0-15 f18 mb15"},[t._v(t._s(t.$t("table.to_be_ordered")))]):e.order&&e.order.money?a("v-uni-view",{staticClass:"p-0-15 f18 mb15"},[t._v("฿"+t._s(e.order.money))]):t._e(),a("v-uni-view",{staticClass:"p10 f-x-bt f14 bottom",staticStyle:{background:"rgba(#000,.3)"}},[a("v-uni-view",[a("v-uni-text",{staticClass:"iconfont icon-wode",staticStyle:{"font-size":"14px"}}),t._v(t._s(e.people||0)+"/"+t._s(e.type.max))],1),e.minutes?a("v-uni-view",{staticClass:"nowrap"},[a("v-uni-text",{staticClass:"iconfont icon-shalou",staticStyle:{"font-size":"14px"}}),t._v(t._s(e.minutes)+t._s(t.$t("table.minutes")))],1):t._e(),t.form.id==e.id?a("v-uni-view",{staticClass:"mode f-c-c"},[a("v-uni-view",{staticClass:"cf f18"},[t._v(t._s("free"==t.state?t.$t("table.to_be_transferred_in"):t.$t("table.merge_to")))]),a("v-uni-view",{staticClass:"r_gou"}),a("v-uni-text",{staticClass:"iconfont icon-duigou cf"})],1):t._e()],1)],1)})),1),a("v-uni-view",{staticClass:"p-5-10 f-x-bt bs6 bf kinds f20"},[a("v-uni-view",{},[t._v(t._s(t.$t("table.please_select"))+t._s("free"==t.state?t.$t("table.transfer_to"):t.$t("table.merge"))+" "+t._s(t.$t("table.table_of")))]),a("v-uni-view",{staticClass:"dfac"},[a("u-button",{staticClass:"mr15",attrs:{text:t.$t("modal.cancelText"),customStyle:{width:"100px"}},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancle.apply(void 0,arguments)}}}),a("u-button",{attrs:{color:"#4275F4",disabled:!t.form.id,customStyle:{width:"100px"}},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cf"},[t._v(t._s(t.$t("modal.confirmText")))])],1)],1)],1)],1)],1)},n=[]},"40d2":function(t,e,a){"use strict";var i=a("d872"),s=a.n(i);s.a},"5eea":function(t,e,a){"use strict";a.r(e);var i=a("22f1"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},c49e:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.top[data-v-05114a1c]{height:55px}.right[data-v-05114a1c]{position:relative}.right .tabs[data-v-05114a1c]{height:40px;line-height:38px;background:#fff;color:#000}.right .tabs .tab[data-v-05114a1c]{display:inline-block;width:6.2215vw}.right .tabs .istab[data-v-05114a1c]{background:#4275f4;color:#fff}.right[data-v-05114a1c] .uni-select{height:40px;background:#fff}.right[data-v-05114a1c] .uni-select .uni-select__input-placeholder{font-size:16px!important}.right[data-v-05114a1c] .uni-select .uni-select__selector-item{font-size:16px!important}.right[data-v-05114a1c] .uni-select .uni-select__input-text{font-size:16px!important}.right .tables[data-v-05114a1c]{max-height:calc(100vh - 130px);overflow-y:auto}.right .table[data-v-05114a1c]{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;width:12.0058vw;height:20.8333vh;border-radius:10px}.right .table .bottom[data-v-05114a1c]{background-color:rgba(0,0,0,.1);border-bottom-left-radius:10px;border-bottom-right-radius:10px}.right .table .mode[data-v-05114a1c]{position:absolute;top:0;left:0;width:12.0058vw;height:20.8333vh;border-radius:10px;border:5px solid #4275f4;background:rgba(0,0,0,.7)}.right .table .mode .r_gou[data-v-05114a1c]{position:absolute;top:-1px;right:-1px;width:0;height:0;border-top:25px solid #4275f4;border-right:25px solid #4275f4;border-left:25px solid transparent;border-bottom:25px solid transparent}.right .table .mode .icon-duigou[data-v-05114a1c]{position:absolute;top:4px;right:4px;font-size:18px}.right .kinds[data-v-05114a1c]{position:absolute;bottom:20px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:50%;box-shadow:0 0 10px 5px #eee}.right .kinds .kind[data-v-05114a1c]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:110px;height:28px;border-radius:5px}.right .kinds .isKind[data-v-05114a1c]{background:#d5d5d9}@media (min-width:1500px) and (max-width:3280px){.right .tabs .tab[data-v-05114a1c]{width:100px}.right .table[data-v-05114a1c]{width:164px;height:160px}.right .table .mode[data-v-05114a1c]{width:164px;height:160px}}',""]),t.exports=e},d872:function(t,e,a){var i=a("c49e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("967dd").default;s("0da70e88",i,!0,{sourceMap:!1,shadowMode:!1})},df61:function(t,e,a){"use strict";a.r(e);var i=a("2925"),s=a("5eea");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("40d2");var r=a("828b"),o=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"05114a1c",null,!1,i["a"],void 0);e["default"]=o.exports}}]);