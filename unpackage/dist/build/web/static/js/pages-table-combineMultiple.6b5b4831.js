(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-table-combineMultiple"],{"110b":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return i}));var i={tool:e("4ac1").default,uButton:e("3b1c").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"f-y-bt w100v h100v o-h"},[e("v-uni-view",{staticClass:"top bf f-x-bt p15"},[e("v-uni-view",{staticClass:"f24 wei"},[t._v(t._s(t.title))]),e("tool")],1),e("v-uni-view",{staticClass:"right f-1 p10 l-h1",staticStyle:{background:"#eff0f4"}},[e("v-uni-view",{staticClass:"f-x-bt mb15"},[e("v-uni-view",{staticClass:"tabs bs6 f-bt"},t._l(t.tabs,(function(a,i){return e("v-uni-view",{key:i,staticClass:"tab tac f16",class:t.tab==i?"istab":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(a,i)}}},[t._v(t._s(a.name))])})),1)],1),e("v-uni-view",{staticClass:"tables"},t._l(t.tabelList,(function(a,i){return e("v-uni-view",{key:i,staticClass:"table mr15 mb15 bf pt15 f-y-bt",class:1==a.state?"b23 cd":2==a.state?"bb3 cd":4==a.state?"bdb cd":3==a.state?"b2e cd":"bf c0",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickItem(a,i)}}},[e("v-uni-view",{staticClass:"f-bt"},[e("v-uni-view",{staticClass:"p-0-15 f18 mb15"},[t._v(t._s(a.name))]),1==a.scan?e("v-uni-view",{staticClass:"p-0-15 sm f14 mr10",style:{color:2==a.state?"#C24243":1==a.state?"#3E9949":3==a.state?"#2979ff":4==a.state?"#DC6523":""}},[t._v(t._s(t.$t("table.scan")))]):t._e()],1),1==a.state?e("v-uni-view",{staticClass:"p-0-15 f18 mb15"},[t._v(t._s(t.$t("table.to_be_ordered")))]):a.order&&a.order.money?e("v-uni-view",{staticClass:"p-0-15 f18 mb15"},[t._v("฿"+t._s(a.order.money))]):t._e(),e("v-uni-view",{staticClass:"p10 f-x-bt f14 bottom",staticStyle:{background:"rgba(#000,.3)"}},[e("v-uni-view",[e("v-uni-text",{staticClass:"iconfont icon-wode",staticStyle:{"font-size":"14px"}}),t._v(t._s(a.people||0)+"/"+t._s(a.type.max))],1),a.minutes?e("v-uni-view",{staticClass:"nowrap"},[e("v-uni-text",{staticClass:"iconfont icon-shalou",staticStyle:{"font-size":"14px"}}),t._v(t._s(a.minutes)+t._s(t.$t("table.minutes")))],1):t._e(),t.ids.includes(a.id)?e("v-uni-view",{staticClass:"mode f-c-c"},[e("v-uni-view",{staticClass:"cf f18"},[t._v(t._s(t.$t("table.merge")))]),e("v-uni-view",{staticClass:"r_gou"}),e("v-uni-text",{staticClass:"iconfont icon-duigou cf"})],1):t._e()],1)],1)})),1),e("v-uni-view",{staticClass:"p-5-10 f-x-bt bs6 bf kinds f20"},[e("v-uni-view",{},[t._v(t._s(t.$t("table.select_table_to_merge")))]),e("v-uni-view",{staticClass:"dfac"},[e("u-button",{staticClass:"mr15",attrs:{text:t.$t("modal.cancelText"),customStyle:{width:"100px"}},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.cancle.apply(void 0,arguments)}}}),e("u-button",{attrs:{color:"#4275F4",disabled:0==t.ids.length,customStyle:{width:"100px"}},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.confirm.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"cf"},[t._v(t._s(t.$t("modal.confirmText")))])],1)],1)],1)],1)],1)},s=[]},"5f48":function(t,a,e){"use strict";e.r(a);var i=e("a95b"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},"76c5":function(t,a,e){"use strict";e.r(a);var i=e("110b"),n=e("5f48");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("8bb3");var c=e("828b"),o=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"6aaca3f1",null,!1,i["a"],void 0);a["default"]=o.exports},"8b277":function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.top[data-v-6aaca3f1]{height:55px}.right[data-v-6aaca3f1]{position:relative}.right .tabs[data-v-6aaca3f1]{height:40px;line-height:38px;background:#fff;color:#000}.right .tabs .tab[data-v-6aaca3f1]{display:inline-block;width:6.2215vw}.right .tabs .istab[data-v-6aaca3f1]{background:#4275f4;color:#fff}.right[data-v-6aaca3f1] .uni-select{height:40px;background:#fff}.right[data-v-6aaca3f1] .uni-select .uni-select__input-placeholder{font-size:16px!important}.right[data-v-6aaca3f1] .uni-select .uni-select__selector-item{font-size:16px!important}.right[data-v-6aaca3f1] .uni-select .uni-select__input-text{font-size:16px!important}.right .tables[data-v-6aaca3f1]{max-height:calc(100vh - 130px);overflow-y:auto}.right .table[data-v-6aaca3f1]{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;width:12.0058vw;height:20.8333vh;border-radius:10px}.right .table .bottom[data-v-6aaca3f1]{background-color:rgba(0,0,0,.1);border-bottom-left-radius:10px;border-bottom-right-radius:10px}.right .table .mode[data-v-6aaca3f1]{position:absolute;top:0;left:0;width:12.0058vw;height:20.8333vh;border-radius:10px;border:5px solid #4275f4;background:rgba(0,0,0,.7)}.right .table .mode .r_gou[data-v-6aaca3f1]{position:absolute;top:-1px;right:-1px;width:0;height:0;border-top:25px solid #4275f4;border-right:25px solid #4275f4;border-left:25px solid transparent;border-bottom:25px solid transparent}.right .table .mode .icon-duigou[data-v-6aaca3f1]{position:absolute;top:4px;right:4px;font-size:18px}.right .kinds[data-v-6aaca3f1]{position:absolute;bottom:20px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:50%;box-shadow:0 0 10px 5px #eee}.right .kinds .kind[data-v-6aaca3f1]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:110px;height:28px;border-radius:5px}.right .kinds .isKind[data-v-6aaca3f1]{background:#d5d5d9}@media (min-width:1500px) and (max-width:3280px){.right .tabs .tab[data-v-6aaca3f1]{width:100px}.right .table[data-v-6aaca3f1]{width:164px;height:160px}.right .table .mode[data-v-6aaca3f1]{width:164px;height:160px}}',""]),t.exports=a},"8bb3":function(t,a,e){"use strict";var i=e("f299"),n=e.n(i);n.a},a95b:function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("3efd"),e("bd06"),e("dd2b"),e("5ef2"),e("aa9c"),e("c223");var n=i(e("2634")),s=i(e("2fdc")),c=i(e("4ac1")),o={components:{tool:c.default},data:function(){return{tab:0,kind:0,list:[],tabs:[],tabelList:[],dataList:[],areaId:"",title:this.$t("table.transfer_table"),state:"free",form:{},id:0,ids:[],t:"turntable"}},onLoad:function(t){t&&t.id&&(this.id=t.id,this.t=t.t,this.init())},methods:{init:function(){this.title=this.$t("table.merge_table"),this.state="settle",this.fetchData()},fetchData:function(){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var e,i;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.beg.request({url:t.api.tableArea,data:{pageSize:999}});case 2:e=a.sent,i=e.data.list,i.unshift({id:"",name:t.$t("table.all")}),t.tabs=i||[],i&&i.length&&(t.areaId=i[0].id,t.getTableList());case 7:case"end":return a.stop()}}),a)})))()},getTableList:function(){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var e,i,s;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.beg.request({url:t.api.inTabel,data:{areaId:t.areaId,state:t.state,pageSize:999}});case 2:e=a.sent,i=e.data.list,t.tabelList=i||[],t.tabelList&&t.tabelList.length&&(s=t.tabelList.findIndex((function(a){return a.id==t.id})),s>=0&&t.tabelList.splice(s,1));case 6:case"end":return a.stop()}}),a)})))()},changeTab:function(t,a){this.tab=a,this.areaId=t.id,this.getTableList()},clickItem:function(t,a){var e=this.ids.indexOf(t.id);-1===e?this.ids.length<20?this.ids.push(t.id):uni.showToast({title:"".concat(this.$t("table.maximum_selection_allowed")).concat(20,"table"),icon:"none"}):this.ids.splice(e,1)},changeKind:function(t,a){this.kind=a,this.state=t.state,this.getTableList()},cancle:function(){uni.navigateBack({delta:1})},confirm:function(){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var e,i,s;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!=t.ids.length){a.next=3;break}return uni.showToast({title:t.$t("table.select_table_to_merge"),icon:"none"}),a.abrupt("return");case 3:return a.next=5,t.beg.request({url:t.api.combineMultiple,method:"POST",mask:!0,data:{ids:t.ids,toTable:t.id}});case 5:e=a.sent,i=e.code,s=e.msg,uni.showToast({title:s,icon:"none"}),i&&200==i&&(t.toTable=0,setTimeout((function(){uni.reLaunch({url:"/pages/home/index?current=1"})}),500));case 10:case"end":return a.stop()}}),a)})))()}}};a.default=o},f299:function(t,a,e){var i=e("8b277");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967dd").default;n("7095c464",i,!0,{sourceMap:!1,shadowMode:!1})}}]);